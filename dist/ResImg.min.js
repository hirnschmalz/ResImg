(function(){var a,b,c;a=function(){function a(a){this.image=a,this.hasAttr(this.image,this.ATTR_SRC)&&(this._src=this.image.getAttribute(this.ATTR_SRC)),this._src2x=this.hasAttr(this.image,this.ATTR_SRC_2X)?this.image.getAttribute(this.ATTR_SRC_2X):this._src,this._srcLs=this.hasAttr(this.image,this.ATTR_SRC_LS)?this.image.getAttribute(this.ATTR_SRC_LS):this._src,this._srcLs2x=this.hasAttr(this.image,this.ATTR_SRC_LS_2X)?this.image.getAttribute(this.ATTR_SRC_LS_2X):this.hasAttr(this.image,this.ATTR_SRC_LS)?this._srcLs:this._src2x,this._srcPt=this.hasAttr(this.image,this.ATTR_SRC_PT)?this.image.getAttribute(this.ATTR_SRC_PT):this._src,this._srcPt2x=this.hasAttr(this.image,this.ATTR_SRC_PT_2X)?this.image.getAttribute(this.ATTR_SRC_PT_2X):this.hasAttr(this.image,this.ATTR_SRC_PT)?this._srcPt:this._src2x,this._base=this.hasAttr(this.image,this.ATTR_BASE)?this.image.getAttribute(this.ATTR_BASE):"",this._base2x=this.hasAttr(this.image,this.ATTR_BASE_2X)?this.image.getAttribute(this.ATTR_BASE_2X):this._base,this._baseLs=this.hasAttr(this.image,this.ATTR_BASE_LS)?this.image.getAttribute(this.ATTR_BASE_LS):this._base,this._baseLs2x=this.hasAttr(this.image,this.ATTR_BASE_LS_2X)?this.image.getAttribute(this.ATTR_BASE_LS_2X):this.hasAttr(this.image,this.ATTR_BASE_LS)?this._baseLs:this._base2x,this._basePt=this.hasAttr(this.image,this.ATTR_BASE_PT)?this.image.getAttribute(this.ATTR_BASE_PT):this._base,this._basePt2x=this.hasAttr(this.image,this.ATTR_BASE_PT_2X)?this.image.getAttribute(this.ATTR_BASE_PT_2X):this.hasAttr(this.image,this.ATTR_BASE_PT)?this._basePt:this._base2x}var b,c,d,e,f,g,h,i,j,k,l,m,n;return b=void 0,i=void 0,j=void 0,k=void 0,l=void 0,m=void 0,n=void 0,c=void 0,d=void 0,e=void 0,f=void 0,g=void 0,h=void 0,a.prototype.ATTR_SRC="data-src",a.prototype.ATTR_SRC_2X="data-src-2x",a.prototype.ATTR_SRC_LS="data-src-ls",a.prototype.ATTR_SRC_LS_2X="data-src-ls-2x",a.prototype.ATTR_SRC_PT="data-src-pt",a.prototype.ATTR_SRC_PT_2X="data-src-pt-2x",a.prototype.ATTR_BASE="data-src-base",a.prototype.ATTR_BASE_2X="data-src-base-2x",a.prototype.ATTR_BASE_LS="data-src-base",a.prototype.ATTR_BASE_LS_2X="data-src-base-ls-2x",a.prototype.ATTR_BASE_PT="data-src-base",a.prototype.ATTR_BASE_PT_2X="data-src-base-pt-2x",a.prototype.COND_LOWER="<",a.prototype.COND_UPPER=">",a.prototype.COND_DOMAIN_IMAGE="://",a.prototype.COND_DIVIDER=",",a.prototype.COND_DIVIDER_INNER=":",a.prototype.COND_DIVIDER_INNER_REPLACE="||",a.prototype.COND_UPER_LOWER_REGEX=/[<>]/,a.prototype.COND_LAST_REGEX=/:(.+)/,a.prototype.hasAttr=function(a,b){var c;return c=void 0,null!=a&&(c=a.hasAttribute?a.hasAttribute(b):null!==a.getAttribute(b)),c},a.prototype.isResponsiveImage=function(a){return this.hasAttr(a,this.ATTR_SRC)||this.hasAttr(a,this.ATTR_SRC_LS)&&this.hasAttr(a,this.ATTR_SRC_PT)?!0:!1},a.prototype.getImageSrc=function(a,b,c){var d,e,f,g,h,i,j,k,l,m,n,o,p;for(m=null,d=null,b?(m=c?this._srcPt2x:this._srcLs2x,d=c?this._basePt2x:this._baseLs2x):(m=c?this._srcPt:this._srcLs,d=c?this._basePt:this._baseLs),k=m.split(this.COND_DIVIDER),j=void 0,n=0,o=k.length;o>n;n++)if(l=k[n],p=l.replace(this.COND_DIVIDER_INNER,this.COND_DIVIDER_INNER_REPLACE).split(this.COND_DIVIDER_INNER_REPLACE),f=p[0],h=p[1],e=parseInt(f.split(this.COND_UPER_LOWER_REGEX)[1]),-1!==f.indexOf(this.COND_LOWER)){if(e>a){j=h;break}}else a>e&&(j=h);return j&&(i=-1!==j.indexOf(this.COND_DOMAIN_IMAGE)?!0:!1,g=i?j:d+j,g!==this.image.src)?this.image.setAttribute("src",g):void 0},a}(),this.ResImg=function(){function b(){var b,d,e,f;for(c=document.getElementsByTagName("body")[0].getElementsByTagName("img"),d=[],e=0,f=c.length;f>e;e++)b=c[e],a.prototype.isResponsiveImage(b)&&d.push(new a(b));this.images=d}var c,d;return c=[],d=0,b.prototype.checkImages=function(){var a,b,c,e,f,g,h,i,j,k;if(0!==this.images.length&&(i=this.getViewportInfo(),f=i[0],e=i[1],a=i[2],b=i[3],f>d)){for(d=f,j=this.images,k=[],g=0,h=j.length;h>g;g++)c=j[g],k.push(c.getImageSrc(f,a,b));return k}},b.prototype.addImage=function(b){var c,d,e,f,g,h;return a.prototype.isResponsiveImage(b)?(h=this.getViewportInfo(),g=h[0],f=h[1],c=h[2],d=h[3],e=new a(b),this.images.push(e),e.getImageSrc(g,c,d)):void 0},b.prototype.getViewportInfo=function(){var a,b,c,d;return d=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,c=window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight,a=window.devicePixelRatio&&window.devicePixelRatio>=1.2?!0:!1,b=c>d,[d,c,a,b]},b}(),b=function(a,b,c){var d;return d=null,function(){var e,f,g;return f=this,e=arguments,g=function(){var h;return d=null,c||a.apply(f,e),h=c&&!d,clearTimeout(d),d=setTimeout(g,b),h?a.apply(f,e):void 0}}},window.ResImg=new ResImg,c=250,window.addEventListener?(window.addEventListener("load",function(){return window.ResImg.checkImages()},!1),window.addEventListener("resize",function(){return b(window.ResImg.checkImages(),c)},!1)):(window.attachEvent("onload",function(){return window.ResImg.checkImages()}),window.attachEvent("onresize",function(){return b(window.ResImg.checkImages(),c)}))}).call(this);